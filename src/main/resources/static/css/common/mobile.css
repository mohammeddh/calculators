/* SIDEBAR MOBILE FIX - Properly handle sidebars on mobile */

/* Mobile: Hide sidebars completely OR reposition them */
@media (max-width: 768px) {

    /* Option 1: HIDE sidebars completely on mobile (Recommended) */
    .sidebar {
        display: none !important;
    }

    /* Force main layout to single column */
    .main-layout {
        display: block !important;
        grid-template-columns: none !important;
        grid-template-areas: none !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0.5rem !important;
    }

    /* Ensure main content takes full width */
    .main-content {
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 1rem !important;
        grid-column: 1 !important;
        grid-row: 1 !important;
    }

    /* Hide sidebar-specific content on mobile */
    .ad-space,
    .newsletter-form,
    .quick-links,
    .update-list {
        display: none !important;
    }
}

/* Alternative Option 2: Move sidebar content to bottom on mobile */
@media (max-width: 768px) {

    /* If you want to show sidebar content, move it below main content */
    .sidebar.show-on-mobile {
        display: block !important;
        position: static !important;
        width: 100% !important;
        margin-top: 2rem !important;
        padding: 1rem !important;
        border-radius: 0.5rem !important;
        background: var(--background-soft) !important;
        border: 1px solid var(--border) !important;
    }

    /* Compact sidebar content for mobile */
    .sidebar.show-on-mobile .ad-space {
        height: 100px !important;
        font-size: 0.8rem !important;
    }

    .sidebar.show-on-mobile .sidebar-section {
        margin-top: 1rem !important;
        padding-top: 1rem !important;
    }

    .sidebar.show-on-mobile .sidebar-section h3 {
        font-size: 0.9rem !important;
        margin-bottom: 0.5rem !important;
    }

    .sidebar.show-on-mobile .newsletter-form {
        flex-direction: column !important;
        gap: 0.5rem !important;
    }

    .sidebar.show-on-mobile .newsletter-form input {
        width: 100% !important;
        margin-bottom: 0.5rem !important;
    }

    .sidebar.show-on-mobile .newsletter-form .btn {
        width: 100% !important;
        padding: 0.5rem !important;
        font-size: 0.8rem !important;
    }

    /* Compact quick links */
    .sidebar.show-on-mobile .quick-links {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 0.5rem !important;
    }

    .sidebar.show-on-mobile .quick-link {
        padding: 0.5rem !important;
        font-size: 0.7rem !important;
        text-align: center !important;
    }

    .sidebar.show-on-mobile .quick-link span:first-child {
        font-size: 1rem !important;
        display: block !important;
        margin-bottom: 0.25rem !important;
    }

    /* Compact update list */
    .sidebar.show-on-mobile .update-list {
        display: block !important;
    }

    .sidebar.show-on-mobile .update-list li {
        padding: 0.5rem 0 !important;
        font-size: 0.75rem !important;
        border-bottom: 1px solid var(--border-light) !important;
    }
}

/* Option 3: Mobile-specific ads at top of page */
@media (max-width: 768px) {

    /* Create mobile ad banner at top */
    .mobile-ad-banner {
        display: block !important;
        width: 100% !important;
        height: 80px !important;
        background: var(--background-lighter) !important;
        border: 1px dashed var(--border-light) !important;
        border-radius: 0.5rem !important;
        margin: 0.5rem 0 1rem 0 !important;
        text-align: center !important;
        padding: 1rem !important;
        color: var(--text-light) !important;
        font-size: 0.8rem !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        flex-direction: column !important;
    }

    .mobile-ad-banner::before {
        content: 'ðŸ“±' !important;
        font-size: 1.2rem !important;
        margin-bottom: 0.25rem !important;
    }

    .mobile-ad-banner::after {
        content: 'Mobile Banner Ad Space' !important;
    }
}

/* Fix layout issues caused by sidebar CSS conflicts */
@media (max-width: 768px) {

    /* Override any grid or flex layouts that might cause issues */
    .main-layout.no-sidebars,
    .main-layout.no-left-sidebar,
    .main-layout.no-right-sidebar {
        display: block !important;
        grid-template-columns: none !important;
    }

    /* Ensure calculator and contact pages work properly */
    .calculator-container,
    .contact-grid {
        display: block !important;
        grid-template-columns: none !important;
        width: 100% !important;
        max-width: 100% !important;
    }

    .calculator-form-section,
    .calculator-results-section,
    .contact-form-section,
    .contact-info-section {
        width: 100% !important;
        max-width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* Fix any overflow issues */
    body {
        overflow-x: hidden !important;
    }

    * {
        max-width: 100% !important;
        box-sizing: border-box !important;
    }

    /* Ensure text doesn't get cut off */
    h1, h2, h3, h4, h5, h6, p {
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        hyphens: auto !important;
    }

    /* Fix input and form elements */
    input, select, textarea, button {
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
}

/* Tablet-specific adjustments */
@media (min-width: 769px) and (max-width: 1024px) {

    /* Show one sidebar on tablet if desired */
    .main-layout {
        grid-template-columns: 1fr 200px !important;
    }

    .sidebar:first-of-type {
        display: none !important;
    }

    .sidebar:last-of-type {
        display: block !important;
        width: 200px !important;
        padding: 1rem !important;
    }

    .sidebar:last-of-type .ad-space {
        height: 150px !important;
        font-size: 0.7rem !important;
    }
}

/* Force sidebar removal for calculator pages on mobile */
@media (max-width: 768px) {

    /* On calculator pages, absolutely no sidebars */
    .calculator-page .sidebar,
    .contact-page .sidebar {
        display: none !important;
    }

    .calculator-page .main-layout,
    .contact-page .main-layout {
        grid-template-columns: 1fr !important;
    }
}

/* Debug helper - remove after testing */
@media (max-width: 768px) {

    /* Add red border to identify layout issues - REMOVE THIS AFTER TESTING */
    .sidebar {
        border: 2px solid red !important;
    }

    .main-content {
        border: 2px solid green !important;
    }

    .main-layout {
        border: 2px solid blue !important;
    }
}

/* Clean up the debug styles - use this version after testing */
/*
@media (max-width: 768px) {
    .sidebar {
        display: none !important;
    }

    .main-layout {
        display: block !important;
        grid-template-columns: none !important;
        width: 100% !important;
        padding: 0.5rem !important;
    }

    .main-content {
        width: 100% !important;
        padding: 1rem !important;
        margin: 0 !important;
    }
}
*/