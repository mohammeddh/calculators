<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/base :: layout(~{::content})}">

<div th:fragment="content">
    <header class="text-center mb-12 pb-8 border-b border-brand-gray">
        <h1 class="text-3xl md:text-4xl font-bold text-brand-black mb-4">BMI Calculator</h1>
        <p class="text-lg text-brand-blue max-w-2xl mx-auto">
            Calculate your Body Mass Index (BMI) and understand your weight status with our easy-to-use calculator.
        </p>
    </header>

    <div class="grid lg:grid-cols-2 gap-8 mb-12">
        <!-- Calculator Form -->
        <div class="bg-gray-50 border border-brand-gray rounded-xl p-6">
            <form id="bmi-form" class="space-y-6">
                <div>
                    <label for="unit" class="block text-sm font-semibold text-brand-black mb-2">Unit System</label>
                    <select id="unit" name="unit"
                            class="w-full px-4 py-3 border border-brand-gray rounded-lg focus:ring-2 focus:ring-brand-orange focus:border-brand-orange transition-colors">
                        <option value="metric">Metric (kg, cm)</option>
                        <option value="imperial">Imperial (lbs, inches)</option>
                    </select>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label for="weight" class="block text-sm font-semibold text-brand-black mb-2">Weight</label>
                        <div class="relative">
                            <input type="number" id="weight" name="weight"
                                   class="w-full pl-4 pr-12 py-3 border border-brand-gray rounded-lg focus:ring-2 focus:ring-brand-orange focus:border-brand-orange transition-colors"
                                   value="70" min="1" max="1000" step="0.1" required>
                            <span class="absolute right-3 top-3 text-gray-500 text-sm" id="weight-unit">kg</span>
                        </div>
                    </div>

                    <div>
                        <label for="height" class="block text-sm font-semibold text-brand-black mb-2">Height</label>
                        <div class="relative">
                            <input type="number" id="height" name="height"
                                   class="w-full pl-4 pr-12 py-3 border border-brand-gray rounded-lg focus:ring-2 focus:ring-brand-orange focus:border-brand-orange transition-colors"
                                   value="175" min="1" max="300" step="0.1" required>
                            <span class="absolute right-3 top-3 text-gray-500 text-sm" id="height-unit">cm</span>
                        </div>
                    </div>
                </div>

                <button type="submit" class="w-full bg-brand-orange text-white font-semibold py-3 px-6 rounded-lg hover:bg-yellow-500 transition-colors duration-200 transform hover:scale-105">
                    Calculate BMI
                </button>
            </form>
        </div>

        <!-- Results -->
        <div class="bg-white border border-brand-gray rounded-xl p-6">
            <div id="bmi-results" class="space-y-6">
                <!-- BMI Result Display -->
                <div class="text-center p-8 bg-brand-orange/10 border-2 border-brand-orange rounded-xl">
                    <div class="text-4xl md:text-5xl font-bold text-brand-orange mb-2" id="bmi-result">22.9</div>
                    <div class="text-xl font-semibold text-brand-black mb-3" id="bmi-category">Normal weight</div>
                    <div class="text-sm text-brand-blue max-w-md mx-auto leading-relaxed" id="bmi-advice">
                        Maintain your healthy lifestyle with balanced diet and regular exercise.
                    </div>
                </div>

                <!-- BMI Categories -->
                <div class="bg-gray-50 border border-brand-gray rounded-lg p-6">
                    <h4 class="font-semibold text-brand-black mb-4">BMI Categories</h4>
                    <div class="space-y-3" id="category-list">
                        <div class="flex justify-between items-center p-3 bg-white rounded-lg border border-brand-gray">
                            <span class="font-medium text-brand-blue">Underweight</span>
                            <span class="text-sm text-brand-black">< 18.5</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-brand-orange/10 rounded-lg border border-brand-orange">
                            <span class="font-semibold text-brand-orange">Normal weight</span>
                            <span class="text-sm font-semibold text-brand-orange">18.5 - 25</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-white rounded-lg border border-brand-gray">
                            <span class="font-medium text-brand-blue">Overweight</span>
                            <span class="text-sm text-brand-black">25 - 30</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-white rounded-lg border border-brand-gray">
                            <span class="font-medium text-brand-blue">Obese</span>
                            <span class="text-sm text-brand-black">â‰¥ 30</span>
                        </div>
                    </div>
                </div>

                <!-- Health Tips -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                    <h4 class="font-semibold text-brand-black mb-3">ðŸ’¡ Health Tips</h4>
                    <ul class="space-y-2 text-sm text-brand-blue">
                        <li class="flex items-start gap-2">
                            <span class="text-brand-orange mt-0.5">â€¢</span>
                            <span>BMI is a screening tool, not a diagnostic tool</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-brand-orange mt-0.5">â€¢</span>
                            <span>Consult healthcare professionals for personalized advice</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-brand-orange mt-0.5">â€¢</span>
                            <span>Consider other factors like muscle mass and body composition</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-brand-orange mt-0.5">â€¢</span>
                            <span>Maintain a balanced diet and regular physical activity</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Update units when system changes
    document.addEventListener('DOMContentLoaded', () => {
        const unitSelect = document.querySelector('#unit');
        const weightUnit = document.querySelector('#weight-unit');
        const heightUnit = document.querySelector('#height-unit');
        const weightInput = document.querySelector('#weight');
        const heightInput = document.querySelector('#height');

        unitSelect.addEventListener('change', (e) => {
            if (e.target.value === 'metric') {
                weightUnit.textContent = 'kg';
                heightUnit.textContent = 'cm';
                weightInput.value = '70';
                heightInput.value = '175';
            } else {
                weightUnit.textContent = 'lbs';
                heightUnit.textContent = 'in';
                weightInput.value = '154';
                heightInput.value = '69';
            }
        });
    });
</script>

</html>