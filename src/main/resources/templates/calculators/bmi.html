<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/base :: layout(~{::content})}">

<div th:fragment="content">
    <header class="page-header">
        <h1>BMI Calculator</h1>
        <p>Calculate your Body Mass Index (BMI) and understand your weight status with our easy-to-use calculator.</p>
    </header>

    <div class="calculator-container">
        <div class="calculator-form-section">
            <form id="bmi-form" class="calculator-form">
                <div class="form-group">
                    <label for="unit" class="form-label">Unit System</label>
                    <select id="unit" name="unit" class="form-select">
                        <option value="metric">Metric (kg, cm)</option>
                        <option value="imperial">Imperial (lbs, inches)</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="weight" class="form-label">Weight</label>
                        <div class="input-group">
                            <input type="number" id="weight" name="weight" class="form-input"
                                   value="70" min="1" max="1000" step="0.1" required>
                            <span class="input-suffix" id="weight-unit">kg</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="height" class="form-label">Height</label>
                        <div class="input-group">
                            <input type="number" id="height" name="height" class="form-input"
                                   value="175" min="1" max="300" step="0.1" required>
                            <span class="input-suffix" id="height-unit">cm</span>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-calculate">Calculate BMI</button>
            </form>
        </div>

        <div class="calculator-results-section">
            <div id="bmi-results" class="results-container">
                <div class="bmi-result">
                    <div class="bmi-value" id="bmi-result">22.9</div>
                    <div class="bmi-category" id="bmi-category">Normal weight</div>
                    <div class="bmi-advice" id="bmi-advice">Maintain your healthy lifestyle with balanced diet and regular exercise.</div>
                </div>

                <div class="bmi-categories">
                    <h4>BMI Categories</h4>
                    <div class="category-list">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Update units when system changes
    document.addEventListener('DOMContentLoaded', () => {
        const unitSelect = document.querySelector('#unit');
        const weightUnit = document.querySelector('#weight-unit');
        const heightUnit = document.querySelector('#height-unit');
        const weightInput = document.querySelector('#weight');
        const heightInput = document.querySelector('#height');

        unitSelect.addEventListener('change', (e) => {
            if (e.target.value === 'metric') {
                weightUnit.textContent = 'kg';
                heightUnit.textContent = 'cm';
                weightInput.value = '70';
                heightInput.value = '175';
            } else {
                weightUnit.textContent = 'lbs';
                heightUnit.textContent = 'in';
                weightInput.value = '154';
                heightInput.value = '69';
            }
        });
    });
</script>

</html>